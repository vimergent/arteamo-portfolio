const debounce=(e,t)=>{let r;return function(...o){clearTimeout(r),r=setTimeout(()=>{clearTimeout(r),e(...o)},t)}};class CustomCursor{constructor(){this.cursor=document.createElement("div"),this.cursor.className="cursor",document.body.appendChild(this.cursor),this.mouse={x:0,y:0},this.target={x:0,y:0},this.ease=.15,this.init()}init(){document.addEventListener("mousemove",e=>{this.mouse.x=e.clientX,this.mouse.y=e.clientY});document.querySelectorAll("a, button, .project-card, .filter-btn, .nav-link").forEach(e=>{e.addEventListener("mouseenter",()=>this.cursor.classList.add("hover")),e.addEventListener("mouseleave",()=>this.cursor.classList.remove("hover"))}),this.animate()}animate(){this.target.x+=(this.mouse.x-this.target.x)*this.ease,this.target.y+=(this.mouse.y-this.target.y)*this.ease,this.cursor.style.transform=`translate(${this.target.x-10}px, ${this.target.y-10}px)`,requestAnimationFrame(()=>this.animate())}}const savedCursor=localStorage.getItem("selectedCursor"),urlParams=new URLSearchParams(window.location.search),urlCursor="true"===urlParams.get("cursor");let enableCustomCursor=!1,cursorType="none";savedCursor&&"none"!==savedCursor?(enableCustomCursor=!0,cursorType=savedCursor):urlCursor&&(enableCustomCursor=!0,cursorType="minimal"),enableCustomCursor&&window.innerWidth>768&&!("ontouchstart"in window)&&document.body.classList.add("custom-cursor-enabled");const navbar=document.querySelector(".navbar");let lastScrollY=window.scrollY;const handleNavbarScroll=debounce(()=>{const e=window.scrollY;e>100?navbar.classList.add("scrolled"):navbar.classList.remove("scrolled"),navbar.style.transform=e>lastScrollY&&e>200?"translateY(-100%)":"translateY(0)",lastScrollY=e},10);window.addEventListener("scroll",handleNavbarScroll),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));if(t){const e=t.offsetTop-80;window.scrollTo({top:e,behavior:"smooth"})}})});const sections=document.querySelectorAll("section[id]"),navLinks=document.querySelectorAll(".nav-link"),setActiveNav=debounce(()=>{let e=window.pageYOffset;sections.forEach(t=>{const r=t.offsetHeight,o=t.offsetTop-150,n=t.getAttribute("id");e>o&&e<=o+r&&navLinks.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${n}`&&e.classList.add("active")})})},100);window.addEventListener("scroll",setActiveNav);const filterButtons=document.querySelectorAll(".filter-btn"),projectCards=document.querySelectorAll(".project-card"),projectsGrid=document.querySelector(".projects-grid");let isFiltering=!1;filterButtons.forEach(e=>{e.addEventListener("click",()=>{if(isFiltering)return;isFiltering=!0,filterButtons.forEach(e=>e.classList.remove("active")),e.classList.add("active");const t=e.getAttribute("data-filter");projectCards.forEach((e,t)=>{e.style.transition="all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",e.style.transform="translateY(20px)",e.style.opacity="0"}),setTimeout(()=>{projectCards.forEach(e=>{"all"===t||e.getAttribute("data-category")===t?e.style.display="block":e.style.display="none"}),setTimeout(()=>{projectCards.forEach((e,t)=>{"none"!==e.style.display&&setTimeout(()=>{e.style.transform="translateY(0)",e.style.opacity="1"},100*t)}),setTimeout(()=>{isFiltering=!1},500)},50)},400)})});const sortSelect=document.getElementById("sort-select");sortSelect.addEventListener("change",()=>{if(isFiltering)return;isFiltering=!0;const e=sortSelect.value,t=Array.from(projectCards).filter(e=>"none"!==e.style.display);t.forEach(e=>{e.style.transition="all 0.4s ease",e.style.transform="scale(0.8) translateY(20px)",e.style.opacity="0"}),setTimeout(()=>{t.sort((t,r)=>{if("newest"===e)return parseInt(r.getAttribute("data-year"))-parseInt(t.getAttribute("data-year"));if("oldest"===e)return parseInt(t.getAttribute("data-year"))-parseInt(r.getAttribute("data-year"));if("name"===e){const e=t.querySelector("h3").textContent.toLowerCase(),o=r.querySelector("h3").textContent.toLowerCase();return e.localeCompare(o)}}),t.forEach(e=>{projectsGrid.appendChild(e)}),setTimeout(()=>{t.forEach((e,t)=>{setTimeout(()=>{e.style.transform="scale(1) translateY(0)",e.style.opacity="1"},100*t)}),setTimeout(()=>{isFiltering=!1},500)},50)},400)});const observerOptions={threshold:.1,rootMargin:"0px 0px -50px 0px"},observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animate")})},observerOptions);document.querySelectorAll(".animate-on-scroll").forEach(e=>{observer.observe(e)}),window.addEventListener("load",()=>{[".hero-content",".about-content",".service-card",".contact-item"].forEach(e=>{document.querySelectorAll(e).forEach(e=>{e.classList.add("animate-on-scroll"),observer.observe(e)})})});const hero=document.querySelector(".hero"),heroContent=document.querySelector(".hero-content"),handleParallax=debounce(()=>{const e=window.pageYOffset,t=.3*e,r=Math.max(0,1-e/800);hero&&(hero.style.transform=`translateY(${t}px)`,heroContent.style.opacity=r)},10);window.addEventListener("scroll",handleParallax);class ImageLoader{constructor(){this.images=document.querySelectorAll(".project-image img"),this.loadImages()}loadImages(){this.images.forEach(e=>{e.style.filter="blur(5px)",e.style.transition="filter 0.6s ease";const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(this.loadImage(e.target),t.unobserve(e.target))})});t.observe(e)})}loadImage(e){const t=e.src,r=new Image;r.onload=()=>{e.style.filter="blur(0)",e.classList.add("loaded")},r.src=t}}new ImageLoader;class PageTransitions{constructor(){this.createLoader(),this.handleTransitions()}createLoader(){const e=document.createElement("div");e.className="page-loader",e.innerHTML='\n            <div class="loader-content">\n                <div class="loader-logo">STUDIO ARTEAMO</div>\n                <div class="loader-progress">\n                    <div class="loader-bar"></div>\n                </div>\n            </div>\n        ';const t=document.createElement("style");t.textContent="\n            .page-loader {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background: linear-gradient(135deg, #ffffff 0%, #f9f7f4 100%);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                z-index: 10000;\n                transition: opacity 0.6s ease, visibility 0.6s ease;\n            }\n            \n            .page-loader.hidden {\n                opacity: 0;\n                visibility: hidden;\n            }\n            \n            .loader-content {\n                text-align: center;\n            }\n            \n            .loader-logo {\n                font-family: 'Space Grotesk', sans-serif;\n                font-size: 2rem;\n                font-weight: 700;\n                letter-spacing: 0.02em;\n                background: linear-gradient(135deg, #000000, #d4af37);\n                -webkit-background-clip: text;\n                -webkit-text-fill-color: transparent;\n                background-clip: text;\n                margin-bottom: 2rem;\n            }\n            \n            .loader-progress {\n                width: 200px;\n                height: 2px;\n                background: rgba(0, 0, 0, 0.1);\n                border-radius: 1px;\n                overflow: hidden;\n            }\n            \n            .loader-bar {\n                height: 100%;\n                background: linear-gradient(90deg, #000000, #d4af37);\n                animation: loadProgress 2s ease-out forwards;\n                transform: translateX(-100%);\n            }\n            \n            @keyframes loadProgress {\n                to {\n                    transform: translateX(0);\n                }\n            }\n        ",document.head.appendChild(t),document.body.appendChild(e),this.loader=e}handleTransitions(){window.addEventListener("load",()=>{setTimeout(()=>{this.loader.classList.add("hidden"),document.body.style.overflow="auto",setTimeout(()=>{this.loader.remove()},600)},2e3)})}}new PageTransitions;const mobileMenuToggle=document.querySelector(".mobile-menu-toggle"),navMenu=document.querySelector(".nav-menu");if(mobileMenuToggle&&mobileMenuToggle.addEventListener("click",()=>{navMenu.classList.toggle("active"),mobileMenuToggle.classList.toggle("active")}),"ontouchstart"in window){document.body.classList.add("touch-device");document.querySelectorAll(".project-card, .filter-btn, .service-card").forEach(e=>{e.addEventListener("touchstart",()=>{e.style.transform="scale(0.98)"}),e.addEventListener("touchend",()=>{setTimeout(()=>{e.style.transform=""},150)})})}function openProjectGallery(e,t){document.body.style.transition="opacity 0.3s ease",document.body.style.opacity="0.7",setTimeout(()=>{const r=window.location.pathname,o=r.substring(0,r.lastIndexOf("/")+1);window.location.href=`../gallery-premium.html?project=${encodeURIComponent(e)}&name=${encodeURIComponent(t)}&from=${encodeURIComponent(o)}`},300)}class PerformanceMonitor{constructor(){this.monitorPerformance()}monitorPerformance(){if("PerformanceObserver"in window){new PerformanceObserver(e=>{for(const t of e.getEntries())"first-contentful-paint"===t.name&&console.log(`First Contentful Paint: ${t.startTime}ms`)}).observe({entryTypes:["paint"]})}if("PerformanceObserver"in window){new PerformanceObserver(e=>{for(const t of e.getEntries())t.hadRecentInput||console.log("Layout shift detected:",t.value)}).observe({entryTypes:["layout-shift"]})}}}"localhost"===window.location.hostname&&new PerformanceMonitor;class AccessibilityEnhancements{constructor(){this.addKeyboardNavigation(),this.addFocusManagement(),this.addScreenReaderSupport()}addKeyboardNavigation(){projectCards.forEach((e,t)=>{e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.setAttribute("aria-label",`View project: ${e.querySelector("h3").textContent}`),e.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.click())})}),filterButtons.forEach(e=>{e.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.click())})})}addFocusManagement(){document.querySelectorAll('a, button, [tabindex]:not([tabindex="-1"])').forEach(e=>{e.addEventListener("focus",()=>{e.style.outline="2px solid #d4af37",e.style.outlineOffset="2px"}),e.addEventListener("blur",()=>{e.style.outline="none"})})}addScreenReaderSupport(){const e=document.getElementById("projects");e&&e.setAttribute("aria-label","Portfolio projects");const t=document.getElementById("filters");t&&t.setAttribute("aria-label","Project filters and sorting options")}}new AccessibilityEnhancements,window.openProjectGallery=openProjectGallery;